{% load static %}
<style>
  *{
    margin: 0;
    padding: 0;
    list-style: none;
    text-decoration: none;
  }

  .sidebar{
    border-radius: 0.5em;
    position: fixed;
    top: 5em;
    left: -16em;
    width: 17em;
    height: calc(100vh - 5em);
    background: linear-gradient(180deg, #e3f2fd, #a3d5ff);
    transition: all .5s ease;
    z-index: 1;
    box-shadow: 0.3em 0.3em 0.2em rgba(0,0,0,0.1);
    overflow-y: auto;
    font-family: cursive;
  }

  .sidebar header{
    font-size: 2em;
    color: #271c4d;
    text-align: center;
    line-height: 2em;
    background: #a3d5ff;
    user-select: none;
    border-radius: 0.5em 0.5em 0 0;
  }

  .sidebar ul a{
    color: #271c4d;
    display: block;
    padding: 0.5em 1.5em;
    transition: all 0.3s ease;
  }

  .sidebar li{
    display: block;
    width: 100%;
    line-height: 2em;
    font-size: 1.2em;
    color: #271c4d;
    box-sizing: border-box;
  }

  .sidebar-heading {
    font-weight: bold;
    font-size: 1.4em;
    text-transform: uppercase;
    color: #271c4d;
    cursor: pointer;
    padding: 0.5em 1.5em;
    background: rgba(163, 213, 255, 0.2);
    border-bottom: 1px solid rgba(39, 28, 77, 0.1);
    transition: background 0.3s ease;
  }

  .sidebar-heading:hover {
    background: rgba(163, 213, 255, 0.4);
  }

  .sub-menu {
    display: none;
    background: rgba(227, 242, 253, 0.8);
    border-left: 3px solid #a3d5ff;
  }

  .sub-menu li {
    padding-left: 2em;
  }

  .sub-menu a:hover {
    background: rgba(163, 213, 255, 0.3);
    color: #1f154b;
    padding-left: 2em;
  }

  ul li:hover a{
    padding-left: 2em;
    transition: 0.3s;
  }

  .sidebar ul a i {
    margin-right: 0.5em;
  }

  #check{
    display:none;
  }

  label #btn, label #cancel{
    position: absolute;
    cursor: pointer;
    border-radius: 0.3em;
    background: #a3d5ff;
    color: #271c4d;
    padding: 0.5em;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label #btn{
    left: 1em;
    top: 4em;
    font-size: 1.5em;
  }

  label #cancel{
    z-index: 1111;
    left: -5.5em;
    top: 4em;
    font-size: 1.5em;
  }

  #check:checked ~ .sidebar{
    left: 0;
  }

  #check:checked ~ label #btn{
    left: 2em;
    opacity: 0;
    pointer-events: none;
  }

  #check:checked ~ label #cancel{
    left: 5.5em;
  }

  #check:checked ~ section{
    margin-left: 20em;
  }

  section{
    padding: 2em 5em 5em 2em;
    transition: all 0.5s ease;
  }

</style>
<input type="checkbox" id="check">
<label for="check">
  <i class="fas fa-bars" id="btn"></i>
  <i class="fas fa-times" id="cancel"></i>
</label>
<div class="sidebar">
  <header>
    Dashboard
  </header>
  <ul>
    <li><a href="{% url 'index' %}">Index</a></li>
    <li class="sidebar-heading"><i class="fas fa-file-alt"></i> Exams</li>
    <ul class="sub-menu">
      <li><a href="{% url 'view_exams' %}">Exams</a></li>
    </ul>
    <li class="sidebar-heading"><i class="fas fa-clipboard-list"></i> Summary</li>
    <ul class="sub-menu">
      <li><a href="{% url 'view_students_attendance' %}">Attendance</a></li>
      <li><a href="{% url 'student-previous' %}">Results and Previous Exams</a></li>
    </ul>
    <li class="sidebar-heading"><i class="fas fa-sliders-h"></i> Settings and Actions</li>
    <ul class="sub-menu">
      <li><a href="{% url 'email-student-pref' %}">General Settings</a></li>
      <li>
        <form id="my_form" action="{% url 'logout' %}" method="POST" style="display:inline;">
          {% csrf_token %}
          <a href="javascript:{}" onclick="document.getElementById('my_form').submit();">Logout</a>
        </form>
      </li>
    </ul>
  </ul>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const headings = document.querySelectorAll('.sidebar-heading');
    headings.forEach(heading => {
      heading.addEventListener('click', function() {
        const subMenu = this.nextElementSibling;
        if (subMenu && subMenu.classList.contains('sub-menu')) {
          subMenu.style.display = subMenu.style.display === 'block' ? 'none' : 'block';
        }
      });
    });
  });
</script>
